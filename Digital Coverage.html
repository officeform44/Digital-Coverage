<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Digital Coverage</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(to bottom right, #ffe6f0, #e6e6ff, #e0f7fa);
      color: #000;
      font-weight: bold;
      max-width: 480px;
      margin: auto;
    }
    .container {
      padding: 20px;
    }
    .box {
      background: white;
      padding: 20px;
      margin-top: 20px;
      border-radius: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    input, button, select {
      padding: 10px;
      margin: 5px 0;
      width: 100%;
      border-radius: 10px;
      border: none;
      font-weight: bold;
    }
    button {
      background-color: #ff99cc;
      color: white;
    }
    h1, h2, h3, p {
      margin: 10px 0;
    }
    .hidden {
      display: none;
    }
    .question {
      margin-bottom: 10px;
    }
    .correct { color: green; }
    .wrong { color: red; }
  </style>
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
</head>
<body>
  <div class="container">
    <div id="auth-section" class="box">
      <h2>Login or Register</h2>
      <input type="text" id="email" placeholder="Username or Email" />
      <input type="password" id="password" placeholder="Password" />
      <button onclick="login()">Login</button>
      <button onclick="register()">Register</button>
    </div><div id="main-section" class="box hidden">
  <h1>Digital Coverage</h1>
  <p><strong>Description:</strong> Digital Coverage is a private entity that began generating revenue as of May 1, 2025, in conjunction with the entire Meta team and the banking network responsible for facilitating digital coverage (CD). (Updated May 8)</p>

  <div class="box">
    <p>Name: <span id="user-email"></span></p>
    <p>Balance: <span id="balance">0</span></p>
    <p>Attempts: <span id="attempts">0</span></p>
    <p>Correct: <span id="correct">0</span></p>
    <p>Wrong: <span id="wrong">0</span></p>
  </div>

  <div class="box" id="task-section">
    <h3>Tasks</h3>
    <div id="questions"></div>
    <button onclick="checkAnswers()">Submit Answers</button>
  </div>

  <div class="box">
    <h3>Enter Code for 50</h3>
    <input type="text" id="codeInput" placeholder="Enter 6-digit code" />
    <button onclick="checkCode()">Submit Code</button>
    <p id="codeResult"></p>
  </div>

  <div class="box">
    <h3>Withdraw</h3>
    <select id="method">
      <option>PayPal</option>
      <option>GCash</option>
      <option>Maya</option>
      <option>Union Bank</option>
      <option>Binance</option>
    </select>
    <input type="text" id="withdrawInfo" placeholder="Enter number or email" />
    <select id="amount">
      <option>300</option>
      <option>500</option>
      <option>700</option>
      <option>900</option>
      <option>1000</option>
    </select>
    <button onclick="withdraw()">Withdraw</button>
    <p id="withdrawResult"></p>
  </div>

  <button onclick="logout()">Logout</button>
</div>

  </div>  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBYFb72CFbgLFh2FyAmXzDtYJT3fi5lW0w",
      authDomain: "digital-coverage.firebaseapp.com",
      databaseURL: "https://digital-coverage-default-rtdb.firebaseio.com",
      projectId: "digital-coverage",
      storageBucket: "digital-coverage.appspot.com",
      messagingSenderId: "120897512874",
      appId: "1:120897512874:web:4ae584e1bb5acc6f3db7d3",
      measurementId: "G-B2RSVX3TQ5"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.database();

    let currentUser;
    let questions = [];

    function generateQuestions() {
      questions = [];
      let qDiv = document.getElementById("questions");
      qDiv.innerHTML = "";
      for (let i = 0; i < 10; i++) {
        let a = Math.floor(Math.random() * 100 + 10);
        let b = Math.floor(Math.random() * 50 + 5);
        let ops = ['+', '-', '*', '/', 'sqrt'];
        let op = ops[Math.floor(Math.random() * ops.length)];
        let q, answer;
        if (op === 'sqrt') {
          q = `âˆš(${a * a})`;
          answer = Math.sqrt(a * a);
        } else {
          q = `${a} ${op} ${b}`;
          answer = eval(q);
        }
        questions.push({ q, answer: parseFloat(answer.toFixed(2)) });
        qDiv.innerHTML += `<div class='question'>${q} = <input type='number' id='q${i}' step='0.01'></div>`;
      }
    }

    function checkAnswers() {
      let correct = 0;
      for (let i = 0; i < 10; i++) {
        let input = parseFloat(document.getElementById(`q${i}`).value);
        if (Math.abs(input - questions[i].answer) < 0.01) correct++;
      }
      db.ref("users/" + currentUser.uid).once("value", snap => {
        let data = snap.val();
        let bal = data.balance || 0;
        let attempts = (data.attempts || 0) + 1;
        let correctPrev = (data.correct || 0) + correct;
        let wrongPrev = (data.wrong || 0) + (10 - correct);
        if (correct === 10) bal += 50;
        db.ref("users/" + currentUser.uid).update({ balance: bal, attempts, correct: correctPrev, wrong: wrongPrev });
        generateQuestions();
      });
    }

    function checkCode() {
      const code = document.getElementById("codeInput").value;
      const result = document.getElementById("codeResult");
      if (code === "GR2334" || code === "FREE50") {
        db.ref("users/" + currentUser.uid).once("value", snap => {
          let bal = snap.val().balance + 50;
          db.ref("users/" + currentUser.uid).update({ balance: bal });
        });
        result.innerText = "Success! 50 added.";
      } else {
        result.innerText = "Invalid code.";
      }
    }

    function withdraw() {
      let amount = parseInt(document.getElementById("amount").value);
      db.ref("users/" + currentUser.uid).once("value", snap => {
        let bal = snap.val().balance;
        if (bal >= amount) {
          db.ref("users/" + currentUser.uid).update({ balance: bal - amount });
          document.getElementById("withdrawResult").innerText = "Bank processing... 1-3 days. Please be patient.";
        } else {
          document.getElementById("withdrawResult").innerText = "Insufficient balance.";
        }
      });
    }

    function login() {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      auth.signInWithEmailAndPassword(email, password)
        .then(user => loadDashboard(user.user))
        .catch(() => alert("Login failed. Try Registering."));
    }

    function register() {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      auth.createUserWithEmailAndPassword(email, password)
        .then(user => {
          db.ref("users/" + user.user.uid).set({ balance: 0, attempts: 0, correct: 0, wrong: 0 });
          loadDashboard(user.user);
        })
        .catch(err => alert("Register failed. " + err.message));
    }

    function logout() {
      auth.signOut();
      document.getElementById("auth-section").classList.remove("hidden");
      document.getElementById("main-section").classList.add("hidden");
    }

    function loadDashboard(user) {
      currentUser = user;
      document.getElementById("auth-section").classList.add("hidden");
      document.getElementById("main-section").classList.remove("hidden");
      document.getElementById("user-email").textContent = user.email;

      const ref = db.ref("users/" + user.uid);
      ref.on("value", snap => {
        let data = snap.val();
        document.getElementById("balance").textContent = data.balance || 0;
        document.getElementById("attempts").textContent = data.attempts || 0;
        document.getElementById("correct").textContent = data.correct || 0;
        document.getElementById("wrong").textContent = data.wrong || 0;
      });
      generateQuestions();
    }

    auth.onAuthStateChanged(user => {
      if (user) loadDashboard(user);
    });
  </script></body>
</html>